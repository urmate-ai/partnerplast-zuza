diff --git a/node_modules/jest-expo/src/preset/setup.js b/node_modules/jest-expo/src/preset/setup.js
index db69c0f..79b7533 100644
--- a/node_modules/jest-expo/src/preset/setup.js
+++ b/node_modules/jest-expo/src/preset/setup.js
@@ -117,7 +117,12 @@ for (const moduleName of Object.keys(expoModules)) {
   });
 }
 
-Object.keys(mockNativeModules.NativeUnimoduleProxy.viewManagersMetadata).forEach(
+// Ensure UIManager exists and is an object
+if (!mockNativeModules.UIManager || typeof mockNativeModules.UIManager !== 'object') {
+  mockNativeModules.UIManager = {};
+}
+
+Object.keys(mockNativeModules.NativeUnimoduleProxy.viewManagersMetadata || {}).forEach(
   (viewManagerName) => {
     Object.defineProperty(mockNativeModules.UIManager, `ViewManagerAdapter_${viewManagerName}`, {
       get: () => ({
@@ -183,16 +188,17 @@ jest.doMock('react-native/Libraries/LogBox/LogBox', () => ({
 }));
 
 // Mock the `createSnapshotFriendlyRef` to return an ref that can be serialized in snapshots.
-jest.doMock('expo-modules-core/src/Refs', () => ({
-  createSnapshotFriendlyRef: () => {
-    // We cannot use `createRef` since it is not extensible.
-    const ref = { current: null };
-    Object.defineProperty(ref, 'toJSON', {
-      value: () => '[React.ref]',
-    });
-    return ref;
-  },
-}));
+// Commented out due to module resolution issues - snapshots will still work without this
+// jest.doMock('expo-modules-core/src/Refs', () => ({
+//   createSnapshotFriendlyRef: () => {
+//     // We cannot use `createRef` since it is not extensible.
+//     const ref = { current: null };
+//     Object.defineProperty(ref, 'toJSON', {
+//       value: () => '[React.ref]',
+//     });
+//     return ref;
+//   },
+// }));
 
 function attemptLookup(moduleName) {
   // hack to get the package name from the module name
@@ -291,7 +297,8 @@ try {
 }
 
 // Installs web implementations of global things that are normally installed through JSI.
-require('expo-modules-core/src/web/index.web');
+// Commented out due to module resolution issues - not needed for Jest tests
+// require('expo-modules-core/src/web/index.web');
 
 jest.doMock('expo/src/winter/FormData', () => ({
   // The `installFormDataPatch` function is for native runtime only,
